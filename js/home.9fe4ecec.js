(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{1276:function(e,s,t){"use strict";var n=t("d784"),i=t("44e7"),r=t("825a"),o=t("1d80"),a=t("4840"),c=t("8aa5"),p=t("50c4"),u=t("14c3"),l=t("9263"),g=t("d039"),x=[].push,m=Math.min,f=4294967295,h=!g((function(){return!RegExp(f,"y")}));n("split",2,(function(e,s,t){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var n=String(o(this)),r=void 0===t?f:t>>>0;if(0===r)return[];if(void 0===e)return[n];if(!i(e))return s.call(n,e,r);var a,c,p,u=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,h=new RegExp(e.source,g+"g");while(a=l.call(h,n)){if(c=h.lastIndex,c>m&&(u.push(n.slice(m,a.index)),a.length>1&&a.index<n.length&&x.apply(u,a.slice(1)),p=a[0].length,m=c,u.length>=r))break;h.lastIndex===a.index&&h.lastIndex++}return m===n.length?!p&&h.test("")||u.push(""):u.push(n.slice(m)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:s.call(this,e,t)}:s,[function(s,t){var i=o(this),r=void 0==s?void 0:s[e];return void 0!==r?r.call(s,i,t):n.call(String(i),s,t)},function(e,i){var o=t(n,e,this,i,n!==s);if(o.done)return o.value;var l=r(e),g=String(this),x=a(l,RegExp),d=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(h?"y":"g"),b=new x(h?l:"^(?:"+l.source+")",v),_=void 0===i?f:i>>>0;if(0===_)return[];if(0===g.length)return null===u(b,g)?[g]:[];var y=0,k=0,E=[];while(k<g.length){b.lastIndex=h?k:0;var O,j=u(b,h?g:g.slice(k));if(null===j||(O=m(p(b.lastIndex+(h?0:k)),g.length))===y)k=c(g,k,d);else{if(E.push(g.slice(y,k)),E.length===_)return E;for(var w=1;w<=j.length-1;w++)if(E.push(j[w]),E.length===_)return E;k=y=O}}return E.push(g.slice(y)),E}]}),!h)},"21bb":function(e,s,t){"use strict";var n=t("2dad"),i=t.n(n);i.a},2532:function(e,s,t){"use strict";var n=t("23e7"),i=t("5a34"),r=t("1d80"),o=t("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(r(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"2dad":function(e,s,t){},"4e46":function(e,s,t){"use strict";var n=t("cefd"),i=t.n(n);i.a},"5a34":function(e,s,t){var n=t("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"903c":function(e,s,t){},ab13:function(e,s,t){var n=t("b622"),i=n("match");e.exports=function(e){var s=/./;try{"/./"[e](s)}catch(t){try{return s[i]=!1,"/./"[e](s)}catch(n){}}return!1}},ae71:function(e,s,t){"use strict";var n=t("903c"),i=t.n(n);i.a},bb51:function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"home",on:{click:e.homeClickHandle}},[t("app-bar",[e._v(e._s(e.groupTitle)+"（"+e._s(e.num)+"）")]),t("div",{staticClass:"message-list",class:{pbsafe:!e.socketLogin}},[e.err?t("div",{staticClass:"err-msg",on:{click:e.err.clickHandler}},[e._v(e._s(e.err.msg))]):e._e(),t("div",{ref:"msgScrollBox",staticClass:"message-content",on:{touchmove:function(e){e.stopPropagation()}}},[t("div",{ref:"msgContent"},e._l(e.messageList,(function(s,n){return t("message-item",{key:n,attrs:{message:s},on:{at:e.atHandle,needFocus:e.focusHandle}})})),1)])]),e.socketLogin?t("input-bar",{ref:"inputBar",on:{sendMsg:e.sendMessageHandle,scrollBottom:function(s){return e.scrollBottom(!0)}},nativeOn:{click:function(e){e.stopPropagation()}}}):e._e()],1)},i=[],r=t("d4ec"),o=t("bee2"),a=t("99de"),c=t("7e84"),p=t("262e"),u=t("9ab4"),l=t("60a3"),g=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"app-bar"},[t("div",{staticClass:"app-bar-inner"},[t("div",{staticClass:"icon-exit",on:{click:e.logout}},[t("svg",{staticClass:"icon",attrs:{t:"1575694393515",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2724",width:"20",height:"20"}},[t("path",{attrs:{d:"M45.983 518.23c0-15.531 6.763-29.473 17.413-39.12v0l175.251-158.073c9.354-8.353 21.649-13.472 35.179-13.472 29.062 0 52.593 23.531 52.592 52.652 0 15.531-6.707 29.532-17.413 39.179v0l-73.419 66.182h378.799c29.003 0 52.593 23.59 52.593 52.651 0 29.121-23.59 52.712-52.593 52.712v0h-378.799l73.419 66.182c10.706 9.649 17.413 23.59 17.413 39.18 0 29.062-23.53 52.652-52.592 52.652-13.53 0-25.825-5.119-35.179-13.531v0l-175.251-158.015c-10.646-9.648-17.412-23.59-17.413-39.18v0zM511.731 809.199h330.5v-581.936h-330.5c-29.061 0-52.593-23.59-52.593-52.651 0-29.12 23.531-52.712 52.593-52.712h383.093c29.062 0 52.593 23.59 52.593 52.712v687.296c0 29.121-23.531 52.711-52.593 52.711h-383.093c-29.061 0-52.593-23.59-52.593-52.711 0-29.062 23.532-52.711 52.593-52.711v0zM511.731 809.199z","p-id":"2725"}})])]),t("h3",[e._t("default")],2)])])},x=[],m=(t("5319"),function(e){function s(){return Object(r["a"])(this,s),Object(a["a"])(this,Object(c["a"])(s).apply(this,arguments))}return Object(p["a"])(s,e),Object(o["a"])(s,[{key:"logout",value:function(){this.$store.dispatch("logout"),this.$router.replace({name:"login"})}}]),s}(l["d"]));m=u["a"]([l["a"]],m);var f=m,h=f,d=(t("e3c7"),t("2877")),v=Object(d["a"])(h,g,x,!1,null,null,null),b=v.exports,_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"input",class:{focused:e.focused}},[t("div",{staticClass:"input-bar",on:{touchmove:function(e){e.stopPropagation()}}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.msg.text,expression:"msg.text",modifiers:{trim:!0}}],ref:"input",attrs:{type:"text",placeholder:"Type something here..."},domProps:{value:e.msg.text},on:{input:[function(s){s.target.composing||e.$set(e.msg,"text",s.target.value.trim())},e.inputHanlde],keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.sendMsg(s)},focus:e.onfocus,blur:[e.onblur,function(s){return e.$forceUpdate()}]}}),t("div",{staticClass:"emoji-btn",on:{click:function(s){return s.stopPropagation(),e.toolsClickHandle("expression")}}},[t("svg",{staticClass:"icon",attrs:{t:"1575870582154",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2224",width:"28",height:"28"}},[t("path",{attrs:{d:"M510.944 960c-247.04 0-448-200.96-448-448s200.992-448 448-448c247.008 0 448 200.96 448 448S757.984 960 510.944 960zM510.944 128c-211.744 0-384 172.256-384 384 0 211.744 172.256 384 384 384 211.744 0 384-172.256 384-384C894.944 300.256 722.688 128 510.944 128z","p-id":"2225"}}),t("path",{attrs:{d:"M512 773.344c-89.184 0-171.904-40.32-226.912-110.624-10.88-13.92-8.448-34.016 5.472-44.896 13.888-10.912 34.016-8.48 44.928 5.472 42.784 54.688 107.136 86.048 176.512 86.048 70.112 0 134.88-31.904 177.664-87.552 10.784-14.016 30.848-16.672 44.864-5.888 14.016 10.784 16.672 30.88 5.888 44.864C685.408 732.32 602.144 773.344 512 773.344z","p-id":"2226"}}),t("path",{attrs:{d:"M368 515.2c-26.528 0-48-21.472-48-48l0-64c0-26.528 21.472-48 48-48s48 21.472 48 48l0 64C416 493.696 394.496 515.2 368 515.2z","p-id":"2227"}}),t("path",{attrs:{d:"M656 515.2c-26.496 0-48-21.472-48-48l0-64c0-26.528 21.504-48 48-48s48 21.472 48 48l0 64C704 493.696 682.496 515.2 656 515.2z","p-id":"2228"}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showUserList,expression:"showUserList"}],staticClass:"user-list"},[t("ul",e._l(e.userList,(function(s,n){return t("li",{key:n,on:{click:function(t){return e.userClickHandle(s)}}},[e._v(" "+e._s(s)+" ")])})),0)])]),t("transition",{attrs:{name:"tools"},on:{"after-enter":function(s){return e.scrollBottom()}}},["expression"===e.toolsVisible?t("expression",{on:{select:e.expressionSelect}}):e._e()],1)],1)},y=[];t("a4d3"),t("4de4"),t("e439"),t("dbb4"),t("b64b"),t("4d63"),t("25f0"),t("1276"),t("159b");function k(e){if(Array.isArray(e))return e}t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");function E(e,s){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)if(t.push(o.value),s&&t.length===s)break}catch(c){i=!0,r=c}finally{try{n||null==a["return"]||a["return"]()}finally{if(i)throw r}}return t}}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function j(e,s){return k(e)||E(e,s)||O()}var w=t("ade3"),C=t("fe5e"),$=t("cc5d"),N=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"expression-box",on:{touchmove:function(e){e.stopPropagation()}}},[t("ul",{staticClass:"expression-ul"},e._l(e.expression,(function(s,n){return t("li",{key:s+n,on:{click:function(s){return e.select(n)}}},[t("img",{attrs:{src:s}})])})),0)])},H=[],L={"[开口笑]":"./img/expression/Expression_1@2x.png","[面带微笑]":"./img/expression/Expression_2@2x.png","[闭眼吐舌头]":"./img/expression/Expression_3@2x.png","[笑嘻嘻]":"./img/expression/Expression_4@2x.png","[笑脸]":"./img/expression/Expression_5@2x.png","[吐舌头]":"./img/expression/Expression_6@2x.png","[微笑]":"./img/expression/Expression_7@2x.png","[眨眼吐舌头]":"./img/expression/Expression_8@2x.png","[亲吻]":"./img/expression/Expression_9@2x.png","[安静]":"./img/expression/Expression_10@2x.png","[安心]":"./img/expression/Expression_11@2x.png","[龇牙]":"./img/expression/Expression_12@2x.png","[眨眼]":"./img/expression/Expression_13@2x.png","[尴尬笑]":"./img/expression/Expression_14@2x.png","[飞吻]":"./img/expression/Expression_15@2x.png","[哼哼]":"./img/expression/Expression_16@2x.png","[开口笑闭眼]":"./img/expression/Expression_17@2x.png","[红扑扑的脸蛋]":"./img/expression/Expression_18@2x.png","[丧气]":"./img/expression/Expression_19@2x.png","[失望]":"./img/expression/Expression_20@2x.png","[酷]":"./img/expression/Expression_21@2x.png","[大哭]":"./img/expression/Expression_22@2x.png","[闭眼亲吻]":"./img/expression/Expression_23@2x.png","[喜欢]":"./img/expression/Expression_24@2x.png","[品尝美味]":"./img/expression/Expression_25@2x.png","[笑哭]":"./img/expression/Expression_26@2x.png","[尖叫恐惧]":"./img/expression/Expression_27@2x.png","[呆]":"./img/expression/Expression_28@2x.png","[戴口罩]":"./img/expression/Expression_29@2x.png","[恐惧]":"./img/expression/Expression_30@2x.png","[好]":"./img/expression/Expression_31@2x.png","[赞]":"./img/expression/Expression_32@2x.png","[糟糕]":"./img/expression/Expression_33@2x.png","[冷汗]":"./img/expression/Expression_34@2x.png","[痛苦]":"./img/expression/Expression_35@2x.png","[流泪]":"./img/expression/Expression_36@2x.png","[无语]":"./img/expression/Expression_37@2x.png","[含笑亲吻]":"./img/expression/Expression_38@2x.png","[鼓掌]":"./img/expression/Expression_39@2x.png","[困倦]":"./img/expression/Expression_40@2x.png","[光环]":"./img/expression/Expression_41@2x.png","[垂头丧气]":"./img/expression/Expression_42@2x.png","[张着嘴]":"./img/expression/Expression_43@2x.png","[狰狞]":"./img/expression/Expression_44@2x.png","[张嘴哭]":"./img/expression/Expression_45@2x.png","[睡]":"./img/expression/Expression_46@2x.png","[疲惫]":"./img/expression/Expression_47@2x.png","[忧伤]":"./img/expression/Expression_48@2x.png","[凶]":"./img/expression/Expression_49@2x.png","[晕]":"./img/expression/Expression_50@2x.png","[中性面]":"./img/expression/Expression_51@2x.png","[出气]":"./img/expression/Expression_52@2x.png","[失落]":"./img/expression/Expression_53@2x.png","[被打败]":"./img/expression/Expression_54@2x.png","[吃惊]":"./img/expression/Expression_55@2x.png","[面无表情]":"./img/expression/Expression_56@2x.png","[怒]":"./img/expression/Expression_57@2x.png","[祈祷]":"./img/expression/Expression_58@2x.png","[挥手]":"./img/expression/Expression_59@2x.png","[强壮]":"./img/expression/Expression_60@2x.png","[拳头]":"./img/expression/Expression_61@2x.png","[双手]":"./img/expression/Expression_62@2x.png","[食指]":"./img/expression/Expression_63@2x.png","[手势]":"./img/expression/Expression_64@2x.png","[手掌]":"./img/expression/Expression_65@2x.png","[上面]":"./img/expression/Expression_66@2x.png","[下面]":"./img/expression/Expression_67@2x.png","[左面]":"./img/expression/Expression_68@2x.png","[右面]":"./img/expression/Expression_69@2x.png","[鄙视]":"./img/expression/Expression_70@2x.png","[闭眼亲吻的猫]":"./img/expression/Expression_71@2x.png","[苦笑的猫]":"./img/expression/Expression_72@2x.png","[微笑的猫]":"./img/expression/Expression_73@2x.png","[笑哭的猫]":"./img/expression/Expression_74@2x.png","[笑嘻嘻的猫]":"./img/expression/Expression_75@2x.png","[心形眼睛的猫]":"./img/expression/Expression_76@2x.png","[哭泣的猫]":"./img/expression/Expression_77@2x.png","[疲倦的猫]":"./img/expression/Expression_78@2x.png","[恶魔笑]":"./img/expression/Expression_79@2x.png","[恶魔]":"./img/expression/Expression_80@2x.png"},B=L,S=function(e){function s(){var e;return Object(r["a"])(this,s),e=Object(a["a"])(this,Object(c["a"])(s).apply(this,arguments)),e.expression={},e}return Object(p["a"])(s,e),Object(o["a"])(s,[{key:"mounted",value:function(){this.expression=B}},{key:"select",value:function(e){return e}}]),s}(l["d"]);u["a"]([Object(l["b"])()],S.prototype,"select",null),S=u["a"]([l["a"]],S);var T=S,M=T,P=(t("f5e2"),Object(d["a"])(M,N,H,!1,null,null,null)),A=P.exports;function F(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function z(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?F(Object(t),!0).forEach((function(s){Object(w["a"])(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var I=function(e){function s(){var e;return Object(r["a"])(this,s),e=Object(a["a"])(this,Object(c["a"])(s).apply(this,arguments)),e.focused=!1,e.showUserList=!1,e.toolsVisible="",e.msg={type:"m",text:"",time:0},e}return Object(p["a"])(s,e),Object(o["a"])(s,[{key:"scrollBottom",value:function(){this.$emit("scrollBottom")}},{key:"addText",value:function(e){var s=new RegExp("".concat(e," ?"),"g");this.msg.text=this.msg.text.replace(s,""),this.msg.text+=e,this.focus()}},{key:"blur",value:function(){this.toolsVisible="",this.showUserList=!1,this.$refs.input&&this.$refs.input.blur()}},{key:"focus",value:function(){this.toolsVisible="",this.$refs.input&&this.$refs.input.focus()}},{key:"toolsClickHandle",value:function(e){this.toolsVisible=this.toolsVisible!==e?e:""}},{key:"onfocus",value:function(){this.toolsVisible="",this.focused=!0}},{key:"onblur",value:function(){this.focused=!1}},{key:"expressionSelect",value:function(e){this.msg.text+=e}},{key:"inputHanlde",value:function(e){this.showUserList="@"===e.data}},{key:"userClickHandle",value:function(e){this.msg.text=this.msg.text.substring(0,this.msg.text.length-1),this.addText("@".concat(e," ")),this.showUserList=!1}},{key:"sendMsg",value:function(){if(this.msg.text){if(this.$emit("sendMsg",Object.assign({},z({},this.msg,{},{user:this.user}))),"修改群名："===this.msg.text.substring(0,5)){var e=this.msg.text.substr(5)||"群聊";Object(C["e"])(e)}if("@群聊小助手 "===this.msg.text.substring(0,7)){var s=this.msg.text.substr(7).split(":"),t=j(s,2),n=t[0],i=t[1];C["a"].emit(n,i)}}"当前人数"===this.msg.text&&C["a"].emit("get users"),Object($["c"])()&&this.blur(),this.msg.text=""}},{key:"nickName",get:function(){return this.$store.getters.nickName}},{key:"user",get:function(){return this.$store.state.user}},{key:"userList",get:function(){var e=this;return this.$store.getters.userList.filter((function(s){return s!==e.nickName}))}}]),s}(l["d"]);I=u["a"]([Object(l["a"])({components:{Expression:A}})],I);var R=I,U=R,V=(t("4e46"),Object(d["a"])(U,_,y,!1,null,null,null)),D=V.exports,q=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"message-item"},["s"===e.message.type?t("div",{staticClass:"sys-msg"},[e._v(e._s(e.message.text))]):e._e(),"o"===e.message.type?t("div",{staticClass:"msg o-msg"},[t("div",{staticClass:"avatar",style:e.getAvatarStyle(e.message.user.nickName),on:{mousedown:function(s){return e.mousedownHandle(e.message.user.nickName)},touchstart:function(s){return e.mousedownHandle(e.message.user.nickName)},mousemove:function(s){return e.mousemoveHandle()},touchmove:function(s){return e.mousemoveHandle()},mouseup:function(s){return e.mouseupHandle()},touchend:function(s){return e.mouseupHandle()},click:function(e){e.stopPropagation()}}},[e._v(" "+e._s(e.nickNameFirstLetter)+" ")]),t("div",{staticClass:"message"},[t("p",{staticClass:"nick-name"},[e._v(e._s(e.message.user.nickName)),t("span",{staticClass:"time"},[e._v(e._s(e.fmtTime(e.message.time)))])]),t("div",{staticClass:"msg-content",domProps:{innerHTML:e._s(e.formatMsg(e.message.text))}})])]):e._e(),"m"===e.message.type?t("div",{staticClass:"msg m-msg"},[t("div",{staticClass:"message"},[t("p",{staticClass:"nick-name"},[t("span",{staticClass:"time"},[e._v(e._s(e.fmtTime(e.message.time)))]),e._v(e._s(e.message.user.nickName))]),t("div",{staticClass:"msg-content",domProps:{innerHTML:e._s(e.formatMsg(e.message.text))}})]),t("div",{staticClass:"avatar",style:e.getAvatarStyle(e.message.user.nickName)},[e._v(e._s(e.nickNameFirstLetter))])]):e._e()])},J=[],W=(t("caad"),t("c975"),t("2532"),t("466d"),["#e21400","#91580f","#f8a700","#f78b00","#58dc00","#287b00","#a8f07a","#4ae8c4","#3b88eb","#3824aa","#a700ff","#d300e7"]),G=function(e){function s(){var e;return Object(r["a"])(this,s),e=Object(a["a"])(this,Object(c["a"])(s).apply(this,arguments)),e.timer=0,e.isAted=!1,e}return Object(p["a"])(s,e),Object(o["a"])(s,[{key:"fmtTime",value:function(e){return new Date(e||Date.now()).toLocaleString()}},{key:"at",value:function(e){this.$emit("at","@".concat(e," "))}},{key:"mousedownHandle",value:function(e){var s=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){s.at(e),s.isAted=!0}),500)}},{key:"mousemoveHandle",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"mouseupHandle",value:function(){this.timer&&this.isAted&&this.$emit("needFocus"),clearTimeout(this.timer),this.isAted=!1}},{key:"formatMsg",value:function(e){e.match($["d"]);var s=["@".concat(this.nickName),"@All","@all","@所有人"];return s.includes(RegExp.$1)&&(e=e.replace($["d"],'<b class="at">'.concat(RegExp.$1,"</b>"))),e=e.replace($["e"],'<a target="_blank" href="$1$2">$1$2</a>'),e=this.convertExpression(e),e}},{key:"convertExpression",value:function(e){var s=new RegExp("\\[.+?\\]","g");return s.test(e)?(e=e.replace(s,(function(e){if(e){var s=Object.keys(B).indexOf(e);return-1!==s?'<img class="expression-message" src='.concat(B[e],' alt="expression"/>'):void 0}})),e):e}},{key:"isLink",value:function(e){return Object($["b"])(e)}},{key:"getColor",value:function(e){if(!e)return"#FFFF00";for(var s=7,t=0;t<e.length;t++)s=e.charCodeAt(t)+(s<<5)-s;var n=Math.abs(s%W.length);return W[n]}},{key:"getAvatarStyle",value:function(e){if(e)return{backgroundColor:this.getColor(e)}}},{key:"nickNameFirstLetter",get:function(){return this.msgNickName?this.msgNickName[0]:""}},{key:"msgNickName",get:function(){return this.message.user&&this.message.user.nickName}},{key:"nickName",get:function(){return this.$store.getters.nickName}}]),s}(l["d"]);u["a"]([Object(l["c"])({type:Object,required:!0})],G.prototype,"message",void 0),G=u["a"]([l["a"]],G);var K=G,Q=K,X=(t("ae71"),Object(d["a"])(Q,q,J,!1,null,null,null)),Y=X.exports,Z=function(e){function s(){return Object(r["a"])(this,s),Object(a["a"])(this,Object(c["a"])(s).apply(this,arguments))}return Object(p["a"])(s,e),Object(o["a"])(s,[{key:"messageListWatcher",value:function(){this.scrollBottom()}},{key:"atHandle",value:function(e){this.$refs.inputBar.addText(e)}},{key:"focusHandle",value:function(){this.$refs.inputBar.focus()}},{key:"homeClickHandle",value:function(){this.$refs.inputBar&&this.$refs.inputBar.blur()}},{key:"sendMessageHandle",value:function(e){Object(C["d"])(e),this.scrollBottom(!0)}},{key:"scrollBottom",value:function(e){var s=this;this.$nextTick((function(){var t=s.$refs.msgScrollBox.scrollHeight-s.$refs.msgScrollBox.offsetHeight;if(!0===e)return s.$refs.msgScrollBox.scrollTop=t;var n=s.$refs.msgScrollBox.scrollTop;(t-n<200||0===n)&&(s.$refs.msgScrollBox.scrollTop=t)}))}},{key:"mounted",value:function(){var e=this;"granted"===Notification.permission?this.$store.commit("updateNotificationPermission","granted"):"default"===Notification.permission&&Notification.requestPermission().then((function(s){e.$store.commit("updateNotificationPermission",s)}))}},{key:"groupTitle",get:function(){return this.$store.getters.groupTitle||"投喂小团队"}},{key:"messageList",get:function(){return this.$store.state.messageList||[]}},{key:"num",get:function(){return this.$store.state.userNum}},{key:"socketLogin",get:function(){return this.$store.getters.socketLogin}},{key:"err",get:function(){return this.socketLogin?null:{msg:"已断开连接，正在重新连接...长时间没反应可点击刷新",clickHandler:function(){location.reload()}}}}]),s}(l["d"]);u["a"]([Object(l["e"])("messageList",{immediate:!0,deep:!0})],Z.prototype,"messageListWatcher",null),Z=u["a"]([Object(l["a"])({components:{AppBar:b,InputBar:D,MessageItem:Y}})],Z);var ee=Z,se=ee,te=(t("21bb"),Object(d["a"])(se,n,i,!1,null,null,null));s["default"]=te.exports},be79:function(e,s,t){},bee2:function(e,s,t){"use strict";function n(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,s,t){return s&&n(e.prototype,s),t&&n(e,t),e}t.d(s,"a",(function(){return i}))},c975:function(e,s,t){"use strict";var n=t("23e7"),i=t("4d64").indexOf,r=t("b301"),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0,c=r("indexOf");n({target:"Array",proto:!0,forced:a||c},{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},cefd:function(e,s,t){},e3c7:function(e,s,t){"use strict";var n=t("be79"),i=t.n(n);i.a},f502:function(e,s,t){},f5e2:function(e,s,t){"use strict";var n=t("f502"),i=t.n(n);i.a}}]);
//# sourceMappingURL=home.9fe4ecec.js.map